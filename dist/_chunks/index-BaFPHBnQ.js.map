{"version":3,"file":"index-BaFPHBnQ.js","sources":["../../admin/src/pluginId.ts","../../admin/src/components/Initializer.tsx","../../admin/src/index.ts"],"sourcesContent":["export const PLUGIN_ID = 'strapi-5-sitemap-plugin';\n","import { useEffect, useRef } from 'react';\n\nimport { PLUGIN_ID } from '../pluginId';\n\ntype InitializerProps = {\n  setPlugin: (id: string) => void;\n};\n\nconst Initializer = ({ setPlugin }: InitializerProps) => {\n  const ref = useRef(setPlugin);\n\n  useEffect(() => {\n    ref.current(PLUGIN_ID);\n  }, []);\n\n  return null;\n};\n\nexport { Initializer };\n","import { PLUGIN_ID } from './pluginId';\nimport { Initializer } from './components/Initializer';\n\nexport default {\n  register(app: any) {\n    app.createSettingSection(\n      {\n        id: PLUGIN_ID,\n        intlLabel: {\n          id: `${PLUGIN_ID}.plugin.name`,\n          defaultMessage: 'Sitemap'\n        }\n      },\n      [\n        {\n          intlLabel: {\n            id: 'Configuration',\n            defaultMessage: 'Configuration'\n          },\n          id: 'sitemap-settings',\n          to: `/settings/${PLUGIN_ID}`,\n          Component: async () => {\n            return import('./pages/Settings');\n          },\n          permissions: [{ action: `plugin::${PLUGIN_ID}.settings.read`, subject: null }],\n        },\n      ]\n    );\n\n    app.registerPlugin({\n      id: PLUGIN_ID,\n      initializer: Initializer,\n      isReady: false,\n      name: PLUGIN_ID,\n    });\n  },\n\n  async registerTrads({ locales }: { locales: string[] }) {\n    return Promise.all(\n      locales.map(async (locale) => {\n        try {\n          const { default: data } = await import(`./translations/${locale}.json`);\n\n          return { data, locale };\n        } catch {\n          return { data: {}, locale };\n        }\n      })\n    );\n  },\n};\n"],"names":["useRef","useEffect"],"mappings":";;;;;;;;;;;;;;;;;;AAAO,MAAM,YAAY;ACQzB,MAAM,cAAc,CAAC,EAAE,gBAAkC;AACjD,QAAA,MAAMA,aAAO,SAAS;AAE5BC,QAAAA,UAAU,MAAM;AACd,QAAI,QAAQ,SAAS;AAAA,EACvB,GAAG,EAAE;AAEE,SAAA;AACT;ACbA,MAAe,QAAA;AAAA,EACb,SAAS,KAAU;AACb,QAAA;AAAA,MACF;AAAA,QACE,IAAI;AAAA,QACJ,WAAW;AAAA,UACT,IAAI,GAAG,SAAS;AAAA,UAChB,gBAAgB;AAAA,QAAA;AAAA,MAEpB;AAAA,MACA;AAAA,QACE;AAAA,UACE,WAAW;AAAA,YACT,IAAI;AAAA,YACJ,gBAAgB;AAAA,UAClB;AAAA,UACA,IAAI;AAAA,UACJ,IAAI,aAAa,SAAS;AAAA,UAC1B,WAAW,YAAY;AACrB,mBAAO,QAAO,QAAA,EAAA,KAAA,MAAA,QAAA,wBAAkB,CAAA;AAAA,UAClC;AAAA,UACA,aAAa,CAAC,EAAE,QAAQ,WAAW,SAAS,kBAAkB,SAAS,KAAM,CAAA;AAAA,QAAA;AAAA,MAC/E;AAAA,IAEJ;AAEA,QAAI,eAAe;AAAA,MACjB,IAAI;AAAA,MACJ,aAAa;AAAA,MACb,SAAS;AAAA,MACT,MAAM;AAAA,IAAA,CACP;AAAA,EACH;AAAA,EAEA,MAAM,cAAc,EAAE,WAAkC;AACtD,WAAO,QAAQ;AAAA,MACb,QAAQ,IAAI,OAAO,WAAW;AACxB,YAAA;AACF,gBAAM,EAAE,SAAS,SAAS,MAAM,qCAAA,uBAAA,OAAA,EAAA,0BAAA,MAAA,QAAA,QAAA,EAAA,KAAA,MAAA,QAAA,kBAAA,CAAA,EAAA,CAAA,GAAA,kBAAA,MAAA,SAAA,CAAA;AAEzB,iBAAA,EAAE,MAAM,OAAO;AAAA,QAAA,QAChB;AACN,iBAAO,EAAE,MAAM,CAAC,GAAG,OAAO;AAAA,QAAA;AAAA,MAE7B,CAAA;AAAA,IACH;AAAA,EAAA;AAEJ;;;"}